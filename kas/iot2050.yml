#
# Copyright (c) Siemens AG, 2019-2023
#
# Authors:
#  Le Jin <le.jin@siemens.com>
#
# This file is subject to the terms and conditions of the MIT License.  See
# COPYING.MIT file in the top-level directory.
#

header:
  version: 10

build_system: isar

distro: iot2050-debian
target: iot2050-image-base
machine: iot2050

defaults:
  repos:
    patches:
      repo: meta-iot2050

repos:
  meta-iot2050:

  isar:
    url: https://github.com/ilbers/isar
    refspec: f95f69d3b83cc28976ef81eeefb5ec5dd17e544f
    layers:
      meta:
    patches:
      1-bump-optee-os:
        path: isar-patches/0001-stm32mp15x-Bump-optee-os-to-3.21.0.patch
      2-optee-tdk:
        path: isar-patches/0002-Add-recipe-for-optee-TA-devkit.patch
      3-optee-client:
        path: isar-patches/0003-Add-recipe-for-optee-client.patch
      4-optee-examples:
        path: isar-patches/0004-Add-recipe-for-optee-examples.patch
      5-optee-ftpm:
        path: isar-patches/0005-Add-recipe-for-optee-ftpm.patch
      6-initramfs-tee-supplicant-hook:
        path: isar-patches/0006-initramfs-Add-recipe-for-tee-supplicant-hook.patch
      7-initramfs-tee-ftpm-hook:
        path: isar-patches/0007-initramfs-Add-recipe-for-tee-ftpm-hook.patch

  cip-core:
    url: https://gitlab.com/cip-project/cip-core/isar-cip-core.git
    refspec: c46b2702d9e7e79d7cb35874cf3edb2915e16837

bblayers_conf_header:
  standard: |
    LCONF_VERSION = "6"
    BBPATH = "${TOPDIR}"
    BBFILES ?= ""

local_conf_header:
  standard: |
    CONF_VERSION = "1"
  crossbuild: |
    ISAR_CROSS_COMPILE = "1"
  ccache:
    USE_CCACHE = "1"
  compatsupport: |
    ISAR_ENABLE_COMPAT_ARCH = "1"
